
<%-include('../../partials/admin/adminHead.ejs')%>
<div class="container-luid">
    <div class="row">
        <!-- Admin Brand and Dashboard Menu -->
        <%- include('../../partials/admin/adminSidebar.ejs')%>
        <!-- Dashboard Content -->
        <div class="col-sm-10">
            <!-- Admin Navbar Content -->
            <%- include('../../partials/admin/adminNavbar.ejs')%>
            <!-- Included Here Admin Dashboard Controlling Systems Using as a row-->
            <div class="row scroll-style" style="background:#6c757d">
                <div class="w-100">
                    <%-include('../../partials/Error/alert.ejs')%>
                </div>
                <div class="col-sm-12">
                    <!--  Title -->
                    <div class="row px-5 pt-2 text-center">
                        <div class="col-sm-12 p-2 border rounded" style="background:#495057;">
                            <h4 class="admin-create-title">Administrator Management</h4>
                        </div>
                    </div>
                    <!--  Body -->
                    <div class="row px-5 py-2">
                        <div class="col-sm-12 p-4 border rounded p-2" style="background:#495057">
                            <!-- Middle Content Body -->
                            

                            <div class="row">
                              
                                <div class="modal fade" id="adminCreateModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                    <div class="modal-dialog">
                                      <div class="modal-content" style="background:#545b62;">
                                        <div class="modal-header">
                                          <h5 class="modal-title" style="color:#dee2e6ba;text-transform: uppercase;" id="exampleModalLabel">
                                            <strong>Create Administrator</strong>
                                          </h5>
                                          <button type="button"  class="closeModalBtn" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                          </button>
                                        </div>

                                    <form action="/administrator/create" method="POST">
                                        <div class="modal-body">
                                          <!--   Create Admin -->
                                
                                    
                                        <div class="card border-style" style="background:#6c757d;">
                                            <!-- <h5 class="text-center mt-3 admin-create-sub-title pb-1 border-bottom">
                                                Create Administrator
                                            </h5>  -->
                                            <div class="card-body">
                                                <div class="row pb-3">
                                                    <div class="col-sm-4">Name: </div>
                                                    <div class="col-sm-8">
                                                        <input class="input-style <%=error.name?'is-invalid':''%>" name="name" id="adminName" value="<%=errorData.name?errorData.name:''%>" type="text" placeholder="Enter a name">
                                                        <div class="invalid-feedback">
                                                            <%=error.name%>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row py-3">
                                                    <div class="col-sm-4">Username: </div>
                                                    <div class="col-sm-8">
                                                        <input class="input-style <%=error.username?'is-invalid':''%>" name="username" id="adminUsername" value="<%=errorData.username?errorData.username:''%>"  type="text" placeholder="Enter a username">
                                                        <div class="invalid-feedback">
                                                            <%=error.username%>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row py-3">
                                                    <div class="col-sm-4">Email: </div>
                                                    <div class="col-sm-8">
                                                        <input class="input-style <%=error.email?'is-invalid':''%>" name="email" id="adminEmail" value="<%=errorData.email?errorData.email:''%>"  type="text" placeholder="Enter a email">
                                                        <div class="invalid-feedback">
                                                            <%=error.email%>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row py-3">
                                                    <div class="col-sm-4">Phone: </div>
                                                    <div class="col-sm-8">
                                                        <input class="input-style <%=error.phone?'is-invalid':''%>" name="phone" id="adminPhone" value="<%=errorData.phone?errorData.phone:''%>"  type="text" placeholder="Enter a phone">
                                                        <div class="invalid-feedback">
                                                            <%=error.phone%>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row py-3">
                                                    <div class="col-sm-4">Password: </div>
                                                    <div class="col-sm-8">
                                                        <input class="input-style <%=error.password?'is-invalid':''%>" name="password" id="adminPassword" value="<%=errorData.password?errorData.password:''%>"  type="text" placeholder="Enter a password">
                                                        <div class="invalid-feedback">
                                                            <%=error.password%>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row py-3">
                                                    <div class="col-sm-4">Birthday: </div>
                                                    <div class="col-sm-8">
                                                        <input class="input-style <%=error.birthday?'is-invalid':''%>" name="birthday" id="adminBirthday" value="<%=errorData.birthday?errorData.birthday:''%>"  type="date" placeholder="Enter a password">
                                                        <div class="invalid-feedback">
                                                            <%=error.birthday%>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row py-3">
                                                    <div class="col-sm-4">Gender: </div>
                                                    <div class="col-sm-8">
                                                        <input type="radio" name="gender" class="<%=error.gender?'is-invalid':''%>" id="mail" value="mail" <%=errorData.gender==='mail'?'checked':''%> >
                                                        <label for="mail" class="text-style">Mail</label>
                                                        <input type="radio" class="<%=error.gender?'is-invalid':''%>" name="gender" id="femail" value="femail" <%=errorData.gender==='femail'?'checked':''%> >
                                                        <label for="femail" class="text-style">Femail</label>
                                                        <input type="radio" class="<%=error.gender?'is-invalid':''%>" name="gender" id="others" value="others" <%=errorData.gender==='others'?'checked':''%>>
                                                        <label for="others" class="text-style">Others</label>
                                                        <div class="invalid-feedback"><%=error.gender%></div>
                                                    </div>
                        
                                                </div>
                                               
                                            </div>
                                        </div>
                                    
                                
                                        </div>
                                        <div class="modal-footer">
                                          <!-- <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button> -->
                                          <input type="submit" id="createAdminBtn" value="Create">
                                        </div>
                                    </form>
                                      </div>
                                    </div>
                                </div>

                                
                                <!--  Show All Admin List -->
                                <div class="col-sm-12">
                                    <div class="card admin-show-card p-2">
                                        <div class="card-body admin-show-scroll-style admin-show-card-body">
                                            <table class="table ">


                                                 <!--  Modal -->
                                                
                

                                                <thead class="thead-dark">
                                                  <tr class="text-center">
                                                    <th scope="col">ID</th>
                                                    <th scope="col">Name</th>
                                                    <th scope="col">Email</th>
                                                    <th scope="col">Phone</th>
                                                    <th scope="col">Gender</th>
                                                    <th scope="col">Birthday</th>
                                                    <th scope="col">Action</th>
                                                  </tr>
                                                </thead>
                                                <tbody id="adminTable">
                                                    <%for( contact of contacts){%>
                                                    <tr class="text-center">
                                                        <th scope="row"><%=index++%></th>
                                                        <td><%-contact.name%></td>
                                                        <td><%-contact.email%></td>
                                                        <td><%-contact.phone%></td>
                                                        <td><%-contact.gender%></td>
                                                        <td class="text-muted"><%-contact.dateOfBirthday%></td>
                                                        <td class="d-flex">
                                                            <a href="/administrator/update/<%=contact._id%>" class="btn btn-success btn-sm mr-1">Edit</a>
                                                            <a href="/administrator/delete/<%=contact._id%>" class="btn btn-danger btn-sm text-light">Delete</a>
                                                        </td>
                                                    </tr>
                                                        <%}%>
                                                </tbody>
                                              </table>                               
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row mt-3">
                                <div class="col-sm-12">
                <button data-toggle="modal" data-target="#adminCreateModal" class="w-100 adminCreateBtn">Create</button>

                                </div>
                            </div>
                        </div>  
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<%-include('../../partials/admin/adminFooter.ejs')%>
