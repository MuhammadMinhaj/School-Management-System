<%-include('../../partials/admin/adminHead.ejs')%>
<div class="container-luid">
   <div class="row">
      <!-- Admin Brand and Dashboard Menu -->
      <%- include('../../partials/admin/adminSidebar.ejs')%>
      <!-- Dashboard Content -->
      <div class="col-sm-10 ">
         <!-- Admin Navbar Content -->
         <%- include('../../partials/admin/adminNavbar.ejs')%>
         <!-- Included Here Admin Dashboard Controlling Systems Using as a row-->
         
         <div class="row scroll-style" style="background:#6c757d;">
            <div class="col-sm-12">
                
                <div class="w-100">
                    <%-include('../../partials/Error/alert.ejs')%>
                </div>

                <h4 class="menu-title p-1 text-center">All Results</h4>
                <div class="card">
                    
                    
                  
                    <form action="/administrator/results/published/<%=requestModel._id%>" method="POST" class="ml-3">
                        <div class="form-row align-items-center">
                          <div class="col-auto my-1">
                            <label class="mr-sm-2 sr-only" for="inlineFormCustomSelect">Preference</label>
                            <select name="option" class="custom-select custom-select-sm" id="inlineFormCustomSelect">
                                <option value="" selected>Open this select menu</option>
                                <option value="published">Published</option>
                                <option value="unpublished">UnPublished</option>
                              </select>
                          </div>
                          <div class="col-auto my-1">
                            <button type="submit" class="btn btn-primary btn-sm">Submit</button>
                          </div>
                        </div>
                    </form>


                    <table class="table text-center">
                        <thead class="thead-light">
                          <tr>
                            <th scope="col">Rank</th>
                            <th scope="col">Name</th>
                            <th scope="col">Grade</th>
                            <th scope="col">Grade Point</th>
                            <th scope="col">Total Obtained Marks</th>
                            <th scope="col">Total Grade Point</th>
                            <th scope="col">Roll</th>
                            <th scope="col">Status</th>
                            <th scope="col">Controlling</th>
                          </tr>
                        </thead>
                        <tbody>
                                <%if(results){%>
                                    <%results.sort((a,b)=>a.rank-b.rank).forEach((result,ind)=>{%>
                                        <%if(result.rank){%>
                                            <tr>
                                                <th scope="row"><%=result.rank%></th>
                                                <td><%=result.studentinfo.name%></td>
                                                <td><%=result.grade%></td>
                                                <td><%=result.gradePoint%></td>
                                                <td><%=result.totalSubjectObtainedNumber%></td>
                                                <td><%=result.totalGradePoint%></td>
                                                <td><%=result.studentinfo.roll%></td>
                                                <td>Pending</td>
                                                <td>
                                                    <div class="btn-group btn-group-sm" role="group" aria-label="Small button group">
                                                        <a href="#" class="btn border btn-light text-primary btn-sm">Preview</a>
                                                       
                                                        <a href="#" class="btn border btn-light text-dark btn-sm">Download</a>
                                                    </div>
                                                </td>
                                                
                                            </tr>
                                        <%}%>
                                    <%})%>
                                    
                                    <%results.sort((a,b)=>a.studentinfo.roll-b.studentinfo.roll).forEach((result,ind)=>{%>
                                        <%if(!result.rank){%>
                                            <tr>
                                                <th scope="row"><%=result.rank?result.rank:'N/A'%></th>
                                                <td><%=result.studentinfo.name%></td>
                                                <td><%=result.grade%></td>
                                                <td><%=result.gradePoint%></td>
                                                <td><%=result.totalSubjectObtainedNumber%></td>
                                                <td><%=result.totalGradePoint%></td>
                                                <td><%=result.studentinfo.roll%></td>
                                                <td>Pending</td>
                                                <td>
                                                    <div class="btn-group btn-group-sm" role="group" aria-label="Small button group">
                                                        <a href="#" class="btn border btn-light text-primary btn-sm">Preview</a>
                                                       
                                                        <a href="#" class="btn border btn-light text-dark btn-sm">Download</a>
                                                    </div>
                                                </td>
                                                
                                            </tr>
                                        <%}%>
                                    <%})%>
                                <%}%>
                        </tbody>
                    </table>
                </div>

            </div>
         </div>
      </div>
   </div>
</div>
<%-include('../../partials/admin/adminFooter.ejs')%>

</body>
</html>