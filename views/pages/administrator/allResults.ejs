<%-include('../../partials/admin/adminHead.ejs')%>

<div class="row">
    <!-- Admin Brand and Dashboard Menu -->
    <%- include('../../partials/admin/adminSidebar.ejs')%>
    <!-- Dashboard Content -->
    <div class="col-sm-10">
        <!-- Admin Navbar Content -->
        <%- include('../../partials/admin/adminNavbar.ejs')%>
        <!-- Included Here Admin Dashboard Controlling Systems Using as a row-->

        <div class="row scroll-style" style="background: #6c757d;">
            <div class="col-sm-12">
                <div class="w-100">
                    <%-include('../../partials/Error/alert.ejs')%>
                </div>

                <h4 class="menu-title p-1 text-center">All Results</h4>
                <div class="card">
                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb breadcrumb__container">
                            <li class="breadcrumb-item breadcrumb__item active" aria-current="page"><a href="/administrator/dashboard">Dashboard</a></li>

                            <li class="breadcrumb-item breadcrumb__item active" aria-current="page"><a href="/administrator/results/management">Request</a></li>
                            <li class="breadcrumb-item breadcrumb__item active" aria-current="page"><a href="/administrator/results/all/show/<%=singleRequest._id%>">Results</a></li>
                        </ol>
                    </nav>

                    <div class="d-flex justify-content-between">
                        <form action="/administrator/results/web/view/<%=singleRequest._id%>" method="POST" class="ml-3">
                            <div class="form-row align-items-center">
                                <div class="col-auto my-1">
                                    <label class="mr-sm-2 sr-only" for="inlineFormCustomSelect">Preference</label>
                                    <select name="option" class="custom-select custom-select-sm" id="inlineFormCustomSelect">
                                        <option value="" selected>Open this select menu</option>
                                        <option value="published">Published</option>
                                        <option value="unpublished">Unpublished</option>
                                    </select>
                                </div>
                                <div class="col-auto my-1">
                                    <button type="submit" class="btn btn-primary btn-sm">Submit</button>
                                </div>
                            </div>
                        </form>
                        <!-- Search Terms -->
                        <nav class="navbar navbar-light bg-light">
                            <form action="/administrator/results/all/show/<%=singleRequest._id%>" method="GET" class="form-inline">
                                <input class="form-control form-control-sm mr-sm-2" type="search" placeholder="Search" name="search" aria-label="Search" />
                                <button class="btn btn-sm btn-outline-success my-2 my-sm-0" type="submit">Search</button>
                            </form>
                        </nav>
                    </div>
                    <table class="table text-center">
                        <thead class="thead-light">
                            <tr>
                                <th scope="col">Rank</th>
                                <th scope="col">Name</th>
                                <th scope="col">Grade</th>
                                <th scope="col">Grade Point</th>
                                <th scope="col">Total Obtained Marks</th>
                                <th scope="col">Total Grade Point</th>
                                <th scope="col">Roll</th>
                                <th scope="col">Status</th>
                                <th scope="col">Controlling</th>
                            </tr>
                        </thead>
                        <tbody>
                            <%if(results){%> <%results.sort((a,b)=>a.rank-b.rank).forEach((result,ind)=>{%> <%if(result.rank){%>
                            <div class="modal fade resultForGapNone" id="resultModal<%=ind%>" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                <div class="modal-dialog modal-lg resultForGapNone">
                                    <div class="modal-content resultForGapNone">
                                        <div class="modal-header resultForElementNone">
                                            <h5 class="modal-title" id="exampleModalLabel">Results</h5>
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body resultForGapNone">
                                            <div class="card printOfStudentResult p-2">
                                                <div class="result-content p-1">
                                                    <div class="result-header text-center">
                                                        <div class="result-logo m-auto" style="max-width: 80px; height: 80px;">
                                                            <img src="<%=webModel.logo%>" width="80%" alt="" />
                                                        </div>
                                                        <%webModel.name.forEach((name,indOfWebModel)=>{%> <%if(name.lang.toLowerCase()==='english'){%>
                                                        <h4 id="title1" style="color: #1e7e34;"><%=name.name%></h4>
                                                        <%}%> <%})%>
                                                        <h5 id="title2" style="color: #6c757d; font-weight: bolder;">SHOLASHAHAR,CHATTOGRAM</h5>
                                                        <h5 id="title3" style="color: #d39e00;"><%=result.exam.title%></h5>
                                                        <h5 id="title4" style="color: #0062cc;">Class <%=result.classes.name%> Branch <%=result.classes.section%></h5>
                                                    </div>
                                                    <div class="result-body p-3">
                                                        <div class="custom-table custom-table-head-col-4 border-top border-right border-left">
                                                            <div class="border-right py-1 px-2">
                                                                <strong>Roll No: </strong>
                                                            </div>
                                                            <div class="border-right py-1 px-2">
                                                                <span><%=result.studentInfo.roll%></span>
                                                            </div>

                                                            <div class="border-right py-1 px-2">
                                                                <strong>Student ID : </strong>
                                                            </div>
                                                            <div class="py-1 px-2">
                                                                <span><%=result.studentInfo.studentId%></span>
                                                            </div>
                                                        </div>

                                                        <div class="custom-table custom-table-head-col-2 border">
                                                            <div class="border-right py-1 px-2">
                                                                <strong>Name Of Student: </strong>
                                                            </div>
                                                            <div class="py-1 px-2">
                                                                <span><%=result.studentInfo.name%></span>
                                                            </div>
                                                        </div>

                                                        <div class="custom-table custom-table-head-col-4 border-bottom border-right border-left">
                                                            <div class="border-right py-1 px-2">
                                                                <strong>Group: </strong>
                                                            </div>
                                                            <div class="border-right py-1 px-2">
                                                                <span><%=result.classes.group?result.classes.group:'N/A'%></span>
                                                            </div>

                                                            <div class="border-right py-1 px-2">
                                                                <strong>Type: </strong>
                                                            </div>
                                                            <div class="py-1 px-2">
                                                                <span><%=result.types.toUpperCase()%></span>
                                                            </div>
                                                        </div>
                                                        <div class="custom-table custom-table-head-col-4 border-bottom border-right border-left">
                                                            <div class="border-right py-1 px-2">
                                                                <strong>Session: </strong>
                                                            </div>
                                                            <div class="border-right py-1 px-2">
                                                                <%=result.session%>
                                                            </div>

                                                            <div class="border-right py-1 px-2">
                                                                <strong>Total Students : </strong>
                                                            </div>
                                                            <div class="py-1 px-2">
                                                                <%=result.totalStudents%>
                                                            </div>
                                                        </div>
                                                        <div class="custom-table custom-table-head-col-4 border-bottom border-right border-left">
                                                            <div class="border-right py-1 px-2">
                                                                <strong>Working Days: </strong>
                                                            </div>
                                                            <div class="border-right py-1 px-2">
                                                                <%=result.workingDays%>
                                                            </div>

                                                            <div class="border-right py-1 px-2">
                                                                <strong>Present Days : </strong>
                                                            </div>
                                                            <div class="py-1 px-2">
                                                                <%=result.presentDays%>
                                                            </div>
                                                        </div>

                                                        <div class="custom-table custom-table-head-col-4 border-bottom border-right border-left">
                                                            <div class="border-right py-1 px-2">
                                                                <strong>Grade : </strong>
                                                            </div>
                                                            <div class="border-right py-1 px-2">
                                                                <%=result.grade%>
                                                            </div>
                                                            <div class="border-right py-1 px-2">
                                                                <strong><%=result.classes.resultType.toLowerCase()==='gpa'?'GPA':result.classes.resultType.toLowerCase()==='cgpa'?'CGPA':'Grade Point'%> </strong>
                                                            </div>
                                                            <div class="border-right py-1 px-2">
                                                                <%=result.gradePoint?result.gradePoint:'N/A'%>
                                                            </div>
                                                        </div>

                                                        <div class="custom-table custom-table-head-col-4 border-bottom border-right border-left">
                                                            <div class="border-right py-1 px-2">
                                                                <strong>Result : </strong>
                                                            </div>
                                                            <div class="border-right py-1 px-2">
                                                                <%=Number(result.gradePoint)===0?'Failed':'Passed'%>
                                                            </div>
                                                            <div class="border-right py-1 px-2">
                                                                <strong>Rank : </strong>
                                                            </div>
                                                            <div class="border-right py-1 px-2">
                                                                <%=result.rank?result.rank:'N/A'%>
                                                            </div>
                                                        </div>

                                                        <!-- Subject Number -->
                                                        <!-- Main Subject -->
                                                        <h6 class="text-center my-2"><strong>Subjects</strong></h6>
                                                        <div class="custom-table text-center custom-table-col-5 border-top border-right border-left border-bottom">
                                                            <div class="border-right py-1 px-2">
                                                                <strong>Code</strong>
                                                            </div>

                                                            <div class="border-right py-1 px-2">
                                                                <strong>Subjects Name</strong>
                                                            </div>

                                                            <div class="border-right py-1 px-2">
                                                                <strong>Full Marks</strong>
                                                            </div>
                                                            <div class="border-right py-1 px-2">
                                                                <strong>Obtained Marks</strong>
                                                            </div>
                                                            <div class="py-1 px-2">
                                                                <strong>Grade</strong>
                                                            </div>

                                                            <%for(let subject of result.subjects){%>
                                                            <div class="border-top border-right py-1 px-2">
                                                                <span><%=subject.code%></span>
                                                            </div>

                                                            <div class="text-left border-top border-right py-1 px-2">
                                                                <span class="ml-2"><%=subject.name%></span>
                                                            </div>

                                                            <div class="border-top border-right py-1 px-2">
                                                                <span><%=subject.fullMarks%></span>
                                                            </div>
                                                            <div class="border-top border-right py-1 px-2">
                                                                <span><%=subject.obtainedMarks%></span>
                                                            </div>
                                                            <div class="border-top py-1 px-2">
                                                                <span><%=subject.gradePoint%></span>
                                                            </div>
                                                            <%}%>
                                                        </div>
                                                        <!-- Main Subject End -->

                                                        <!-- Combination Subject -->
                                                        <h6 class="text-center my-2"><strong>Combination Subjects</strong></h6>
                                                        <div class="custom-table text-center custom-table-col-5 border-top border-right border-left border-bottom">
                                                            <div class="border-right py-1 px-2">
                                                                <strong>Code</strong>
                                                            </div>

                                                            <div class="border-right py-1 px-2">
                                                                <strong>Subjects Name</strong>
                                                            </div>

                                                            <div class="border-right py-1 px-2">
                                                                <strong>Full Marks</strong>
                                                            </div>
                                                            <div class="border-right py-1 px-2">
                                                                <strong>Obtained Marks</strong>
                                                            </div>
                                                            <div class="py-1 px-2">
                                                                <strong>Grade</strong>
                                                            </div>

                                                            <%result.subjectAandSubjectB.forEach((subject,ind)=>{%>
                                                            <div class="border-top border-right py-1 px-2">
                                                                <span><%=subject.code%></span>
                                                            </div>

                                                            <div class="text-left border-top border-right py-1 px-2">
                                                                <span class="ml-2"><%=subject.name%></span>
                                                            </div>

                                                            <div class="border-top border-right py-1 px-2">
                                                                <span><%=subject.fullMarks%></span>
                                                            </div>
                                                            <div class="border-top border-right py-1 px-2">
                                                                <span><%=subject.obtainedMarks%></span>
                                                            </div>

                                                            <!-- <div class=" border-top py-1 px-2">
                                                        <span><%=subject.gradePoint%></span>
                                                        </div> -->

                                                            <%if(ind%2===1){%>
                                                            <div style="transform: translateY(-12px);" class="py-1 px-2">
                                                                <span><%=subject.gradePoint%></span>
                                                            </div>

                                                            <%}else{%>
                                                            <div class="border-top py-1 px-2"></div>
                                                            <%}%> <%})%>
                                                        </div>
                                                        <!-- Combination Subject End -->

                                                        <!-- Optional Subject -->

                                                        <%if(result.optionalSubject.length!==0){%>
                                                        <h6 class="text-center my-2"><strong>Optional Subjects</strong></h6>
                                                        <div class="custom-table text-center custom-table-col-5 border-top border-right border-left border-bottom">
                                                            <div class="border-right py-1 px-2">
                                                                <strong>Code</strong>
                                                            </div>

                                                            <div class="border-right py-1 px-2">
                                                                <strong>Subjects Name</strong>
                                                            </div>

                                                            <div class="border-right py-1 px-2">
                                                                <strong>Full Marks</strong>
                                                            </div>
                                                            <div class="border-right py-1 px-2">
                                                                <strong>Obtained Marks</strong>
                                                            </div>
                                                            <div class="py-1 px-2">
                                                                <strong>Grade</strong>
                                                            </div>

                                                            <%for(let subject of result.optionalSubject){%>
                                                            <div class="border-top border-right py-1 px-2">
                                                                <span><%=subject.code%></span>
                                                            </div>

                                                            <div class="text-left border-top border-right py-1 px-2">
                                                                <span class="ml-2"><%=subject.name%></span>
                                                            </div>

                                                            <div class="border-top border-right py-1 px-2">
                                                                <span><%=subject.fullMarks%></span>
                                                            </div>
                                                            <div class="border-top border-right py-1 px-2">
                                                                <span><%=subject.obtainedMarks%></span>
                                                            </div>
                                                            <div class="border-top py-1 px-2">
                                                                <span><%=subject.gradePoint%></span>
                                                            </div>
                                                            <%}%>
                                                        </div>
                                                        <%}%>

                                                        <!-- Optional Subject End -->
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>

                                            <a href="javascript:window.print()" class="btn btn-secondary">Print</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <tr>
                                <th scope="row"><%=result.rank%></th>
                                <td><%=result.studentInfo.name%></td>
                                <td class="<%=result.grade.toLowerCase()==='f'?'text-danger':''%>"><%=result.grade%></td>
                                <td><%=result.gradePoint%></td>
                                <td><%=result.totalSubjectObtainedNumber%></td>
                                <td><%=result.totalGradePoint%></td>
                                <td><%=result.studentInfo.roll%></td>
                                <td class="<%=result.published?'text-success':'text-muted'%>"><%=result.published?'PUBLISHED':'UNPUBLISHED'%></td>
                                <td>
                                    <div class="btn-group btn-group-sm" role="group" aria-label="Small button group">
                                        <button class="btn border btn-light text-primary btn-sm" data-toggle="modal" data-target="#resultModal<%=ind%>" data-whatever="@mdo">Preview</button>

                                        <a href="#" class="btn border btn-light text-dark btn-sm">Download</a>
                                    </div>
                                </td>
                            </tr>
                            <%}%> <%})%> <%results.sort((a,b)=>{return a.studentInfo.roll-b.studentInfo.roll}).forEach((result,ind)=>{%> <%if(!result.rank){%>
                            <div class="modal fade" id="resultModal<%=ind*100000%>" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                <div class="modal-dialog modal-lg">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="exampleModalLabel">Results</h5>
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body">
                                            <div class="card p-2">
                                                <div class="result-content p-1">
                                                    <div class="result-header text-center">
                                                        <div class="result-logo m-auto" style="max-width: 80px; height: 80px;">
                                                            <img src="<%=webModel.logo%>" width="80%" alt="" />
                                                        </div>
                                                        <%webModel.name.forEach((name,indOfWebModel)=>{%> <%if(name.lang.toLowerCase()==='english'){%>
                                                        <h5 class="res-large" style="color: #1e7e34;"><%=name.name%></h5>
                                                        <%}%> <%})%>
                                                        <h6 style="color: #6c757d; font-weight: bolder;">SHOLASHAHAR,CHATTOGRAM</h6>
                                                        <h5 style="color: #d39e00;"><%=result.exam.title%></h5>
                                                        <h5 style="color: #0062cc;">Class <%=result.classes.name%> Branch <%=result.classes.section%></h5>
                                                    </div>
                                                    <div class="result-body p-3">
                                                        <div class="custom-table custom-table-head-col-4 border-top border-right border-left">
                                                            <div class="border-right py-1 px-2">
                                                                <strong>Roll No: </strong>
                                                            </div>
                                                            <div class="border-right py-1 px-2">
                                                                <span><%=result.studentInfo.roll%></span>
                                                            </div>

                                                            <div class="border-right py-1 px-2">
                                                                <strong>Student ID : </strong>
                                                            </div>
                                                            <div class="py-1 px-2">
                                                                <span><%=result.studentInfo.studentId%></span>
                                                            </div>
                                                        </div>

                                                        <div class="custom-table custom-table-head-col-2 border">
                                                            <div class="border-right py-1 px-2">
                                                                <strong>Name Of Student: </strong>
                                                            </div>
                                                            <div class="py-1 px-2">
                                                                <span><%=result.studentInfo.name%></span>
                                                            </div>
                                                        </div>

                                                        <div class="custom-table custom-table-head-col-4 border-bottom border-right border-left">
                                                            <div class="border-right py-1 px-2">
                                                                <strong>Group: </strong>
                                                            </div>
                                                            <div class="border-right py-1 px-2">
                                                                <span><%=result.classes.group?result.classes.group:'N/A'%></span>
                                                            </div>

                                                            <div class="border-right py-1 px-2">
                                                                <strong>Type: </strong>
                                                            </div>
                                                            <div class="py-1 px-2">
                                                                <span><%=result.types.toUpperCase()%></span>
                                                            </div>
                                                        </div>
                                                        <div class="custom-table custom-table-head-col-4 border-bottom border-right border-left">
                                                            <div class="border-right py-1 px-2">
                                                                <strong>Session: </strong>
                                                            </div>
                                                            <div class="border-right py-1 px-2">
                                                                <%=result.session%>
                                                            </div>

                                                            <div class="border-right py-1 px-2">
                                                                <strong>Total Students : </strong>
                                                            </div>
                                                            <div class="py-1 px-2">
                                                                <%=result.totalStudents%>
                                                            </div>
                                                        </div>
                                                        <div class="custom-table custom-table-head-col-4 border-bottom border-right border-left">
                                                            <div class="border-right py-1 px-2">
                                                                <strong>Working Days: </strong>
                                                            </div>
                                                            <div class="border-right py-1 px-2">
                                                                <%=result.workingDays%>
                                                            </div>

                                                            <div class="border-right py-1 px-2">
                                                                <strong>Present Days : </strong>
                                                            </div>
                                                            <div class="py-1 px-2">
                                                                <%=result.presentDays%>
                                                            </div>
                                                        </div>
                                                        <div class="custom-table custom-table-head-col-4 border-bottom border-right border-left">
                                                            <div class="border-right py-1 px-2">
                                                                <strong>Grade : </strong>
                                                            </div>
                                                            <div class="border-right py-1 px-2">
                                                                <%=result.grade%>
                                                            </div>
                                                            <div class="border-right py-1 px-2">
                                                                <strong><%=result.classes.resultType.toLowerCase()==='gpa'?'GPA':result.classes.resultType.toLowerCase()==='cgpa'?'CGPA':'Grade Point'%> </strong>
                                                            </div>
                                                            <div class="border-right py-1 px-2">
                                                                <%=result.gradePoint?result.gradePoint:'N/A'%>
                                                            </div>
                                                        </div>

                                                        <div class="custom-table custom-table-head-col-4 border-bottom border-right border-left">
                                                            <div class="border-right py-1 px-2">
                                                                <strong>Result : </strong>
                                                            </div>
                                                            <div class="border-right py-1 px-2">
                                                                <%=Number(result.gradePoint)===0?'Failed':'Passed'%>
                                                            </div>
                                                            <div class="border-right py-1 px-2">
                                                                <strong>Rank : </strong>
                                                            </div>
                                                            <div class="border-right py-1 px-2">
                                                                <%=result.rank?result.rank:'N/A'%>
                                                            </div>
                                                        </div>

                                                        <!-- Subject Number -->
                                                        <!-- Main Subject -->
                                                        <h6 class="text-center my-2"><strong>Subjects</strong></h6>
                                                        <div class="custom-table text-center custom-table-col-5 border-top border-right border-left border-bottom">
                                                            <div class="border-right py-1 px-2">
                                                                <strong>Code</strong>
                                                            </div>

                                                            <div class="border-right py-1 px-2">
                                                                <strong>Subjects Name</strong>
                                                            </div>

                                                            <div class="border-right py-1 px-2">
                                                                <strong>Full Marks</strong>
                                                            </div>
                                                            <div class="border-right py-1 px-2">
                                                                <strong>Obtained Marks</strong>
                                                            </div>
                                                            <div class="py-1 px-2">
                                                                <strong>Grade</strong>
                                                            </div>

                                                            <%for(let subject of result.subjects){%>
                                                            <div class="border-top border-right py-1 px-2">
                                                                <span><%=subject.code%></span>
                                                            </div>

                                                            <div class="text-left border-top border-right py-1 px-2">
                                                                <span class="ml-2"><%=subject.name%></span>
                                                            </div>

                                                            <div class="border-top border-right py-1 px-2">
                                                                <span><%=subject.fullMarks%></span>
                                                            </div>
                                                            <div class="border-top border-right py-1 px-2">
                                                                <span><%=subject.obtainedMarks%></span>
                                                            </div>
                                                            <div class="border-top py-1 px-2">
                                                                <span><%=subject.gradePoint%></span>
                                                            </div>
                                                            <%}%>
                                                        </div>
                                                        <!-- Main Subject End -->

                                                        <!-- Combination Subject -->
                                                        <h6 class="text-center my-2"><strong>Combination Subjects</strong></h6>
                                                        <div class="custom-table text-center custom-table-col-5 border-top border-right border-left border-bottom">
                                                            <div class="border-right py-1 px-2">
                                                                <strong>Code</strong>
                                                            </div>

                                                            <div class="border-right py-1 px-2">
                                                                <strong>Subjects Name</strong>
                                                            </div>

                                                            <div class="border-right py-1 px-2">
                                                                <strong>Full Marks</strong>
                                                            </div>
                                                            <div class="border-right py-1 px-2">
                                                                <strong>Obtained Marks</strong>
                                                            </div>
                                                            <div class="py-1 px-2">
                                                                <strong>Grade</strong>
                                                            </div>

                                                            <%result.subjectAandSubjectB.forEach((subject,ind)=>{%>
                                                            <div class="border-top border-right py-1 px-2">
                                                                <span><%=subject.code%></span>
                                                            </div>

                                                            <div class="text-left border-top border-right py-1 px-2">
                                                                <span class="ml-2"><%=subject.name%></span>
                                                            </div>

                                                            <div class="border-top border-right py-1 px-2">
                                                                <span><%=subject.fullMarks%></span>
                                                            </div>
                                                            <div class="border-top border-right py-1 px-2">
                                                                <span><%=subject.obtainedMarks%></span>
                                                            </div>

                                                            <%if(ind%2===1){%>
                                                            <div style="transform: translateY(-12px);" class="py-1 px-2">
                                                                <span><%=subject.gradePoint%></span>
                                                            </div>

                                                            <%}else{%>
                                                            <div class="border-top py-1 px-2"></div>
                                                            <%}%> <%})%>
                                                        </div>
                                                        <!-- Combination Subject End -->

                                                        <!-- Optional Subject -->

                                                        <%if(result.optionalSubject.length!==0){%>
                                                        <h6 class="text-center my-2"><strong>Optional Subjects</strong></h6>
                                                        <div class="custom-table text-center custom-table-col-5 border-top border-right border-left border-bottom">
                                                            <div class="border-right py-1 px-2">
                                                                <strong>Code</strong>
                                                            </div>

                                                            <div class="border-right py-1 px-2">
                                                                <strong>Subjects Name</strong>
                                                            </div>

                                                            <div class="border-right py-1 px-2">
                                                                <strong>Full Marks</strong>
                                                            </div>
                                                            <div class="border-right py-1 px-2">
                                                                <strong>Obtained Marks</strong>
                                                            </div>
                                                            <div class="py-1 px-2">
                                                                <strong>Grade</strong>
                                                            </div>

                                                            <%for(let subject of result.optionalSubject){%>
                                                            <div class="border-top border-right py-1 px-2">
                                                                <span><%=subject.code%></span>
                                                            </div>

                                                            <div class="text-left border-top border-right py-1 px-2">
                                                                <span class="ml-2"><%=subject.name%></span>
                                                            </div>

                                                            <div class="border-top border-right py-1 px-2">
                                                                <span><%=subject.fullMarks%></span>
                                                            </div>
                                                            <div class="border-top border-right py-1 px-2">
                                                                <span><%=subject.obtainedMarks%></span>
                                                            </div>
                                                            <div class="border-top py-1 px-2">
                                                                <span><%=subject.gradePoint%></span>
                                                            </div>
                                                            <%}%>
                                                        </div>
                                                        <%}%>

                                                        <!-- Optional Subject End -->
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>

                                            <button type="button" class="btn btn-secondary">Download</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <tr>
                                <th scope="row"><%=result.rank?result.rank:'N/A'%></th>
                                <td><%=result.studentInfo.name%></td>
                                <td class="<%=result.grade.toLowerCase()==='f'?'text-danger':''%>"><%=result.grade%></td>
                                <td><%=result.gradePoint%></td>
                                <td><%=result.totalSubjectObtainedNumber%></td>
                                <td><%=result.totalGradePoint%></td>
                                <td><%=result.studentInfo.roll%></td>
                                <td class="<%=result.published?'text-success':'text-muted'%>"><%=result.published?'PUBLISHED':'UNPUBLISHED'%></td>
                                <td>
                                    <div class="btn-group btn-group-sm" role="group" aria-label="Small button group">
                                        <button class="btn border btn-light text-primary btn-sm" data-toggle="modal" data-target="#resultModal<%=ind*100000%>" data-whatever="@mdo">Preview</button>

                                        <a href="#" class="btn border btn-light text-dark btn-sm">Download</a>
                                    </div>
                                </td>
                            </tr>
                            <%}%> <%})%> <%}%>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<%-include('../../partials/admin/adminFooter.ejs')%>
</body>
</html>